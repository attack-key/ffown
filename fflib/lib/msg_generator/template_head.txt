template<typename T, typename R>
class msg_dispather_t
{
    typedef runtime_error        msg_exception_t;
    typedef rapidjson::Document  json_dom_t;
    typedef rapidjson::Value     json_value_t;
    typedef R                    socket_ptr_t;
    typedef int (msg_dispather_t<T, R>::*reg_func_t)(const json_value_t&, socket_ptr_t);
public:
    msg_dispather_t(T& msg_handler_):
        m_msg_handler(msg_handler_)
    {
